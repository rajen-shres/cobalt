<!-- Common scripts to support cancel and delete buttons and confirming deletion -->
{% load static %}

<script src="{% static "assets/js/cobalt-unsaved.js" %}"></script>
<script src="{% static "assets/packages/sweetalert2.11/sweetalert2.js" %}"></script>

<script>
    function confirmDelete(url) {
        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to undo this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {
            if (result.isConfirmed) {
                // User clicked 'Yes, delete it!', navigate to the delete URL
                window.location.href = url;
            }
        });
    }

    function makeCancelable(isCancelable) {
        if (isCancelable) {
            $("#id-delete-button").addClass('d-none')
            $("#id-cancel-button").removeClass('d-none')
        } else {
            $("#id-delete-button").removeClass('d-none')
            $("#id-cancel-button").addClass('d-none')
        }
    }
</script>